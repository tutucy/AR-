# 局域网五子棋

基于 WebSocket 的局域网五子棋对战游戏，支持双人对战。

## 功能特点

- 实时对战：两台电脑通过局域网实时对战
- 简单易用：无需复杂配置，输入房间号即可连接
- 美观界面：渐变背景、玻璃拟态设计
- 完整功能：落子、胜负判断、重新开始
- 心跳检测：自动保持连接活跃

## 文件说明

| 文件 | 说明 |
|------|------|
| `gobang-ws.html` | 局域网对战版（推荐） |
| `gobang-local.html` | 本地测试版（单机双人对战） |
| `server.js` | WebSocket 服务器 |
| `gobang.html` | PeerJS 版（备用，无需服务器） |

## 快速开始

### 1. 安装依赖

```bash
npm install ws
```

### 2. 启动服务器

```bash
node server.js
```

服务器启动后会显示：
```
==================================================
WebSocket 服务器已启动
时间: 2026/1/22 xx:xx:xx
端口: 8080
==================================================
```

### 3. 开始游戏

#### 玩家 A（主机）

1. 打开 `gobang-ws.html`
2. 服务器地址保持 `ws://localhost:8080`
3. 输入房间号（如 `room1`）
4. 点击「加入房间」
5. 等待对方加入

#### 玩家 B（加入）

1. 打开 `gobang-ws.html`
2. 服务器地址改为 `ws://<服务器IP>:8080`
   - 例如：`ws://192.168.1.100:8080`
3. 输入相同的房间号
4. 点击「加入房间」

### 4. 查看服务器 IP

Windows:
```bash
ipconfig
```
找到 IPv4 地址，如 `192.168.1.100`

Mac/Linux:
```bash
ifconfig
```
找到 `inet` 地址

## 游戏规则

- 黑棋先行
- 轮流落子
- 先连成五子者获胜
- 支持横、竖、斜四个方向

## 本地测试

无需启动服务器，直接打开 `gobang-local.html` 即可进行本地双人对战测试。

## 常见问题

### 无法连接

1. 确认服务器已启动
2. 检查防火墙设置，允许 8080 端口
3. 确认两台电脑在同一局域网

### 对方收不到消息

1. 刷新双方页面
2. 检查浏览器控制台（F12）是否有错误
3. 查看服务器终端日志

### 端口被占用

```bash
# Windows
netstat -ano | findstr :8080
taskkill /F /PID <进程ID>

# Mac/Linux
lsof -i :8080
kill -9 <进程ID>
```

## 技术栈

- 前端：HTML5 + CSS3 + JavaScript
- 后端：Node.js + WebSocket
- 通信：WebSocket 协议

## 许可证

MIT
